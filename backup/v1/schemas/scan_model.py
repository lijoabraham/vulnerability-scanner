from sqlmodel import SQLModel, Field
from typing import Optional

class ScanStatus(SQLModel, table=True,  table_args={"schema": "scanner"}):
    id: int = Field(default=None, primary_key=True)
    name: str = Field(max_length=50, unique=True)

class Scan(SQLModel, table=True,  table_args={"schema": "scanner"}):
    id: int = Field(default=None, primary_key=True)
    name: str = Field(max_length=100)
    info: Optional[str] = Field(default=None)
    status: int = Field(default=None)

class ScanLog(SQLModel, table=True, table_args={"schema": "scanner"}):
    id: int = Field(default=None, primary_key=True)
    scan_id: int = Field(default=None, foreign_key="scan.id")
    scan_status: int = Field(default=None, foreign_key="scan_status.id")
    log_message: str = Field(default=None)
